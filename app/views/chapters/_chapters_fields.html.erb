<div class="chapter-fields">
  <div class="accordionButton">
    <h3>Chapter <%= f.object.reference %></h3>
  </div>
  <div class="accordionContent">
    <p>
      <%= f.input :reference, input_html: { title: Calabouco::CHAPTER_REFERENCE, class: "chapter-reference"} %>
      <%= f.input :content, as: :text, input_html: { rows: 10, style: 'width: 100%', title: Calabouco::CHAPTER_CONTENT } %>
      <%= f.input :image, input_html: {onchange: "validateFiles(this);"}, data: {max_file_size: 300.kilobytes} %>
      <% if f.object.image.blank? %>
        No current image
      <% else %>
        Current image: <%= image_tag f.object.image_url(:thumb_chapter).to_s %>
      <% end %>
    </p>
    <div class="decisions">
      <h3>Decisions</h3>
      <%= f.simple_fields_for :decisions do |builder| %>
        <%= render partial: "/decisions/decisions_fields", :locals => {:f => builder} %>
      <% end %>
      <%= link_to_add_fields "Add decisions", f, :decisions, "decisions" %>
    </div>
    <div class="monsters">
      <h3>Monsters</h3>
      <%= f.simple_fields_for :monsters do |builder| %>
        <%= render partial: "/monsters/monsters_fields", :locals => {:f => builder} %>
      <% end %>
      <%= link_to_add_fields "Add monsters", f, :monsters, "monsters" %>
    </div>
    <div class="modifiers-items">
      <h3>Items</h3>
      <%= f.simple_fields_for :modifiers_items do |builder| %>
        <%= render "/modifiers_items/modifiers_items_fields", f: builder %>
      <% end %>
      <%= link_to_add_fields "Add items", f, :modifiers_items, "modifiers_items" %>
    </div>
    <div class="modifiers-attributes">
      <h3>Attribute modifiers</h3>
      <%= f.simple_fields_for :modifiers_attributes do |builder| %>
        <%= render "/modifiers_attributes/modifiers_attributes_fields", f: builder %>
      <% end %>
      <%= link_to_add_fields "Add modifier", f, :modifiers_attributes, "modifiers_attributes" %>
    </div>
    <p><%= link_to_remove_fields "Remove chapter", f, "chapter" %></p>
  </div>
</div>
<br/>
